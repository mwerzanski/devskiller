{"ast":null,"code":"import { v4 as uuid } from 'uuid';\nexport class NotesService {\n  constructor(data) {\n    this.notes = data;\n  }\n\n  /**\n   * Gets up-to-date list of notes\n   */\n  async getNotes() {\n    return this.notes;\n  }\n  update(updateCb) {\n    const clone = [...this.notes];\n    updateCb(clone);\n    this.notes = clone;\n  }\n\n  /**\n   * Saves note if it has id, adds new one with new id otherwise\n   * @param note \n   */\n  async saveNote(note) {\n    const index = this.notes.findIndex(_ref => {\n      let {\n        id\n      } = _ref;\n      return note.id === id;\n    });\n    if (index === -1) {\n      note.id = uuid();\n      this.update(notes => notes.push(note));\n    } else {\n      this.update(notes => notes.splice(index, 1, note));\n    }\n    return note;\n  }\n}","map":{"version":3,"names":["v4","uuid","NotesService","constructor","data","notes","getNotes","update","updateCb","clone","saveNote","note","index","findIndex","id","push","splice"],"sources":["/Users/mwerzanski/Documents/interviews/devskiller/src/services/notes.js"],"sourcesContent":["import { v4 as uuid } from 'uuid'\n\nexport class NotesService {\n\n    constructor(data){\n        this.notes = data\n    }\n\n    /**\n     * Gets up-to-date list of notes\n     */\n    async getNotes(){\n        return this.notes\n    }\n\n    update(updateCb){\n        const clone = [...this.notes]\n        updateCb(clone)\n        this.notes = clone\n    }\n\n    /**\n     * Saves note if it has id, adds new one with new id otherwise\n     * @param note \n     */\n    async saveNote(note){\n        const index = this.notes.findIndex(({ id }) => note.id === id )\n        if (index === -1) {\n            note.id = uuid()\n            this.update(notes => notes.push(note))\n        } else {\n            this.update(notes => notes.splice(index, 1, note))\n        }\n\n        return note\n    }\n}\n"],"mappings":"AAAA,SAASA,EAAE,IAAIC,IAAI,QAAQ,MAAM;AAEjC,OAAO,MAAMC,YAAY,CAAC;EAEtBC,WAAW,CAACC,IAAI,EAAC;IACb,IAAI,CAACC,KAAK,GAAGD,IAAI;EACrB;;EAEA;AACJ;AACA;EACI,MAAME,QAAQ,GAAE;IACZ,OAAO,IAAI,CAACD,KAAK;EACrB;EAEAE,MAAM,CAACC,QAAQ,EAAC;IACZ,MAAMC,KAAK,GAAG,CAAC,GAAG,IAAI,CAACJ,KAAK,CAAC;IAC7BG,QAAQ,CAACC,KAAK,CAAC;IACf,IAAI,CAACJ,KAAK,GAAGI,KAAK;EACtB;;EAEA;AACJ;AACA;AACA;EACI,MAAMC,QAAQ,CAACC,IAAI,EAAC;IAChB,MAAMC,KAAK,GAAG,IAAI,CAACP,KAAK,CAACQ,SAAS,CAAC;MAAA,IAAC;QAAEC;MAAG,CAAC;MAAA,OAAKH,IAAI,CAACG,EAAE,KAAKA,EAAE;IAAA,EAAE;IAC/D,IAAIF,KAAK,KAAK,CAAC,CAAC,EAAE;MACdD,IAAI,CAACG,EAAE,GAAGb,IAAI,EAAE;MAChB,IAAI,CAACM,MAAM,CAACF,KAAK,IAAIA,KAAK,CAACU,IAAI,CAACJ,IAAI,CAAC,CAAC;IAC1C,CAAC,MAAM;MACH,IAAI,CAACJ,MAAM,CAACF,KAAK,IAAIA,KAAK,CAACW,MAAM,CAACJ,KAAK,EAAE,CAAC,EAAED,IAAI,CAAC,CAAC;IACtD;IAEA,OAAOA,IAAI;EACf;AACJ"},"metadata":{},"sourceType":"module"}